import { Space } from "../../types";
export declare class InsightStore {
    private _store;
    /** Getters */
    /**
     * Insight Id
     */
    get insightId(): string;
    /**
     * If the insight is initialied
     */
    get isInitialized(): boolean;
    /**
     * If the user is authorized
     */
    get isAuthorized(): boolean;
    /**
     * Track if the insight is ready for user input
     */
    get isReady(): boolean;
    /**
     * Error if the status is set to "ERROR"
     */
    get error(): Error;
    /**
     * System information
     */
    get system(): {
        /** Config information */
        config: {
            [key: string]: unknown;
            logins: Record<string, unknown>;
            /**
             * List of available providers (logins) that are available
             */
            availableProviders: {
                provider: string;
                name: string;
                isOauth: boolean;
            }[];
        };
    };
    /** Methods */
    /**
     * Initialize the insight
     *
     * options - options to initialize with
     */
    initialize: (options?: {
        /**
         * App to load into the insight
         */
        app?: string | false;
        /**
         * Python file to load into an insight
         */
        python?: {
            type: "detect";
        } | {
            type: "file";
            path: string;
            alias: string;
        } | {
            type: "script";
            script: string;
            alias: string;
        } | false;
    }) => Promise<void>;
    /**
     * Destroy the insight
     */
    destroy: () => Promise<void>;
    /** Helpers */
    /**
     * Initialize the system wide information
     */
    private setupSystem;
    /**
     * Initialize the system wide information
     */
    private destroySystem;
    /**
     * Setup the insight after login
     */
    private setupInsight;
    /**
     * Destroy the insight
     */
    private destroyInsight;
    /**
     * Process and error in action
     * @param error - error to process
     */
    private processActionError;
    /**
     * Detect a script from the html
     */
    private detectScript;
    /**
     * Load an external script
     */
    private loadScript;
    /**
     * Get the id of the space
     * @param space - where to get it
     * @returns id of the space
     */
    private getSpaceId;
    /** Actions */
    /** Accessible by the end user */
    actions: {
        /**
         * Allow the user to login
         * @param credentials
         * @returns
         */
        login: (credentials: {
            type: "native";
            username: string;
            password: string;
        } | {
            type: "oauth";
            provider: string;
        }) => Promise<boolean>;
        /**
         * Allow the user to logout
         */
        logout: () => Promise<boolean>;
        /**
         * Run a pixel against the insight
         * @param pixel - pixel command to run
         * @param space - where to run it
         */
        run: <O extends [] | unknown[]>(pixel: string, space?: Space) => Promise<{
            pixelReturn: {
                isMeta: boolean;
                operationType: string[];
                output: O[number];
                pixelExpression: string;
                pixelId: string;
                additionalOutput?: unknown;
                timeToRun: number;
            }[];
        }>;
        /**
         * Run a pixel against the insight
         * @param pixel - pixel command to run
         * @param space - where to run it
         */
        runPy: <O_1>(python: string, space?: Space) => Promise<{
            output: O_1;
        }>;
        /**
         * Ask a model a question
         * @param engineId - engine to ask
         * @param command - command to ask
         * @param space - where to run it
         */
        askModel: (engineId: string, command: string, space?: Space) => Promise<{
            output: {
                response: string;
            };
        }>;
        /**
         * Query a database
         * @param databaseId - database to query
         * @param query - command to query
         * @param options - options to query with
         * @param space - where to run it
         */
        queryDatabase: (databaseId: string, query: string, options?: {
            collect: number;
        }, space?: Space) => Promise<{
            output: string | number | {
                values: unknown[][];
                headers: string[];
            };
        }>;
        /**
         * Upload a file to the project space
         *
         * @param files- file objects to upload
         * @param path - relative path
         * @param space - where to run it
         */
        upload: (files: File | File[], path: string, space?: Space) => Promise<{
            fileName: string;
            fileLocation: string;
        }[]>;
        /**
         * Download a file from the app
         *
         * @param path - relative path to the file
         * @param space - where to det it
         */
        download: (path: string | null, space?: Space) => Promise<boolean>;
    };
}
